<app-header></app-header>

<form [formGroup]="userProfileForm">
  <div class="row">
    <div class="col-md-3 mx-auto">
      <h2 class="product-header text-center mb-4">Thông tin người dùng</h2>

      <!-- Họ và tên -->
      <div class="mb-3">
        <label for="fullname" class="form-label">Họ và tên</label>
        <input
          type="text"
          id="fullname"
          formControlName="fullname"
          class="form-control"
          [class.is-invalid]="
            userProfileForm.get('fullname')!.invalid &&
            userProfileForm.get('fullname')!.touched
          "
        />
        @if (
          userProfileForm.get('fullname')!.invalid &&
          userProfileForm.get('fullname')!.touched
        ) {
          <div class="invalid-feedback">Họ và tên là trường bắt buộc.</div>
        }
      </div>

      <!-- Địa chỉ -->
      <div class="mb-3">
        <label for="address" class="form-label">Địa chỉ</label>
        <input
          type="text"
          id="address"
          formControlName="address"
          class="form-control"
          [class.is-invalid]="
            userProfileForm.get('address')!.invalid &&
            userProfileForm.get('address')!.touched
          "
        />
      </div>

      <!-- Ngày sinh -->
      <div class="mb-3">
        <label for="date_of_birth" class="form-label">Ngày sinh</label>
        <input
          type="date"
          id="date_of_birth"
          formControlName="date_of_birth"
          class="form-control"
        />
      </div>

      <!-- Mật khẩu -->
      <div class="mb-3">
        <label for="password" class="form-label">Mật khẩu</label>
        <input
          type="password"
          id="password"
          formControlName="password"
          class="form-control"
          placeholder="Mật khẩu"
          required
          [class.is-invalid]="
            userProfileForm.get('password')!.invalid &&
            userProfileForm.get('password')!.touched
          "
        />
        @if (
          userProfileForm.get('password')!.invalid &&
          userProfileForm.get('password')!.touched
        ) {
          <div class="invalid-feedback">
            Mật khẩu phải có ít nhất 6 ký tự.
          </div>
        }
      </div>

      <!-- Nhập lại mật khẩu -->
      <div class="mb-3">
        <label for="retype_password" class="form-label">Nhập lại mật khẩu</label>
        <input
          type="password"
          id="retype_password"
          formControlName="retype_password"
          class="form-control"
          placeholder="Nhập lại mật khẩu"
          required
          [class.is-invalid]="
            userProfileForm.get('retype_password')!.invalid &&
            userProfileForm.get('retype_password')!.touched
          "
        />
        @if (userProfileForm.hasError('passwordMismatch')) {
          <div class="invalid-feedback">Mật khẩu không khớp.</div>
        }
      </div>

      <!-- Nút lưu -->
      <div class="text-center mt-4">
        <button
          type="button"
          (click)="save()"
          class="btn btn-primary px-4"
        >
          Lưu thay đổi
        </button>
      </div>
    </div>
  </div>
</form>

<app-footer></app-footer>
